diff -ur psutils-1.17.orig/config.h psutils-1.17/config.h
--- psutils-1.17.orig/config.h	2006-01-17 22:16:42.000000000 +0100
+++ psutils-1.17/config.h	2010-02-20 12:23:30.000000000 +0100
@@ -10,9 +10,9 @@
 #define OPEN_WRITE "wb"
 #include <fcntl.h>
 #include <io.h>
-#if defined(WIN32)
+#if defined(WIN32) && !defined(__MINGW32__)
 #include <win32lib.h>
-#endif /* WIN32 */
+#endif /* WIN32 && !__MINGW32__ */
 #else /* ! MSDOS && ! WINNT && ! WIN32 */
 #if defined(OS2)
 #define TMPDIR "."
