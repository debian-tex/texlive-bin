#! /bin/sh

# Copyright (C) 2011 Peter Breitenlohner <tex-live@tug.org>
# You may freely use, modify and/or distribute this file.

rm -f GenR-ec.vpl GenR102-*

TEXMFCNF=$srcdir/../kpathsea
TEXFONTS=.:$srcdir/tests
TTF2PKINPUTS=$srcdir/tests
SFDFONTS=$srcdir/data

export TEXMFCNF TEXFONTS TTF2PKINPUTS SFDFONTS

./ttf2tfm GenR102 -u -q -N -T gentium-ec -v GenR-ec GenR102-ec >GenR102-ec.map || exit 1
diff $srcdir/tests/GenR102-ec.map GenR102-ec.map || exit 1

./ttf2pk -q GenR102-ec 100 || exit 1

tftopl GenR102-ec GenR102-ec || exit 77
pktype GenR102-ec.100pk >GenR102-ec.typ || exit 77

echo passed GenR102-ec test

./ttf2tfm GenR102 -q GenR102-h@UBig5@ >GenR102-h.map || exit 1
diff $srcdir/tests/GenR102-h.map GenR102-h.map || exit 1

for sf in 00 01 02 24; do

  ./ttf2pk -q GenR102-h$sf 100 || exit 1

  tftopl GenR102-h$sf GenR102-h$sf || exit 77
  pktype GenR102-h$sf.100pk >GenR102-h$sf.typ || exit 77

done

echo passed GenR102-h test

./ttf2tfm GenR102 -q -x GenR102-v@UBig5@ >GenR102-v.map || exit 1
diff $srcdir/tests/GenR102-v.map GenR102-v.map || exit 1

for sf in 00 01 02 24; do

  ./ttf2pk -q GenR102-v$sf 100 || exit 1

  tftopl GenR102-v$sf GenR102-v$sf || exit 77
  pktype GenR102-v$sf.100pk >GenR102-v$sf.typ || exit 77

done

echo passed GenR102-v test

